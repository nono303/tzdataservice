plugins {
    id 'java-library'
    id 'application'
    // https://github.com/johnrengelman/shadow/releases
    id 'com.gradleup.shadow' version "9.0.0-beta17"
    // https://github.com/nebula-plugins/gradle-lint-plugin/releases
    id "nebula.lint" version "21.0.0"
}

repositories {
    maven { url = "https://repo.osgeo.org/repository/release" }
    maven { url = "https://repo.osgeo.org/repository/geotools-snapshots" }
    mavenCentral()
}

sourceSets {
    main {
        java {
            srcDirs 'src'
        }
    }
    test {
        java {
            srcDirs 'test'
        }
    }
 }

dependencies {
      // https://repo.osgeo.org/repository/snapshot/org/geotools/gt-main/maven-metadata.xml
      def geotoolsVersion = '34-SNAPSHOT'
      
      implementation "org.geotools:gt-main:${geotoolsVersion}"
      implementation "org.geotools:gt-metadata:${geotoolsVersion}"
      implementation "org.geotools:gt-api:${geotoolsVersion}"
      implementation "org.geotools:gt-shapefile:${geotoolsVersion}"
      implementation "org.locationtech.jts:jts-core:+"
 
//    testImplementation "junit:junit:+"
}
application {
    mainClass = "de.kompf.tzdata.rest.TzDataService"
}

shadowJar {
   archiveBaseName.set('tzdataservice-fatjar')
}

gradleLint.rules = ['all-dependency']